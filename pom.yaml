modelVersion: 4.0.0

groupId: com.gitlab.allsimon.quickcheck
artifactId: parent
version: 0.0.1-SNAPSHOT
packaging: pom

name: junit-quickcheck-processor
description: Automate the generation of boilerplate code needed for junit-quickcheck
url: https://gitlab.com/Allsimon/junit-quickcheck-processor/


properties:
  project.reporting.outputEncoding: UTF-8
  project.build.sourceEncoding: UTF-8
  maven.compiler.source: 1.8
  maven.compiler.target: 1.8
  junit-quickcheck-version: 0.8.2

modules: [annotation, processor, sample]

dependencyManagement:
  dependencies:
    - {groupId: com.squareup, artifactId: javapoet, version: 1.11.1}
    - {groupId: com.google.auto.service, artifactId: auto-service, version: 1.0-rc4}
    - {groupId: com.pholser, artifactId: junit-quickcheck-generators, version: '${junit-quickcheck-version}'}

# Maven central deployment stuff ======================================================================================>
scm:
  url: https://gitlab.com/Allsimon/junit-quickcheck-processor/
  connection: scm:git:git://gitlab.com/Allsimon/junit-quickcheck-processor.git
  developerConnection: scm:git:git@gitlab.com:Allsimon/junit-quickcheck-processor.git

licenses:
  - {name: MIT License, url: 'http://www.opensource.org/licenses/mit-license.php'}

developers:
  - {name: Simon Allegraud, email: simon.allegraud@gmail.com, url: 'https://gitlab.com/Allsimon'}


distributionManagement:
  repository: {id: ossrh, layout: default, uniqueVersion: true, url: 'https://oss.sonatype.org/service/local/staging/deploy/maven2/'}
  snapshotRepository: {id: ossrh, layout: default, uniqueVersion: true, url: 'https://oss.sonatype.org/content/repositories/snapshots'}

build:
  plugins:
    - groupId: org.apache.maven.plugins
      artifactId: maven-deploy-plugin
      version: 2.8.2
      executions:
        - goals: [deploy]
          id: default-deploy
          phase: deploy
    - groupId: org.apache.maven.plugins
      artifactId: maven-source-plugin
      version: 3.0.1
      executions:
        - goals: [jar]
          id: attach-sources
          inherited: true
    - groupId: org.apache.maven.plugins
      artifactId: maven-release-plugin
      version: 2.5.3
      configuration: {localCheckout: true, pushChanges: false, mavenExecutorId: forked-path,
                      arguments: '-Dgpg.passphrase=${gpg.passphrase}'}
    - groupId: org.sonatype.plugins
      artifactId: nexus-staging-maven-plugin
      version: 1.6.7
      extensions: true
      configuration: {serverId: ossrh, nexusUrl: 'https://oss.sonatype.org/', autoReleaseAfterClose: true}

profiles:
  - activation:
      activeByDefault: false
      property: {name: performRelease, value: true}
    build:
      plugins:
        - groupId: org.apache.maven.plugins
          artifactId: maven-gpg-plugin
          version: 1.6
          executions:
            - goals: [sign]
              id: sign-artifacts
              inherited: true
              phase: verify
    id: release-sign-artifacts
# Maven central deployment stuff ======================================================================================<
